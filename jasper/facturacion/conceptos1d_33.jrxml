<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="conceptos1d_33" pageWidth="612" pageHeight="792" columnWidth="610" leftMargin="1" rightMargin="1" topMargin="1" bottomMargin="1" uuid="01387c62-8796-43d6-9813-c8c1244236d9">
	<property name="com.jaspersoft.studio.data.defaultdataadapter" value="comprobante"/>
	<property name="com.jaspersoft.studio.unit." value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageHeight" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.pageWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.topMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.bottomMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.leftMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.rightMargin" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnWidth" value="pixel"/>
	<property name="com.jaspersoft.studio.unit.columnSpacing" value="pixel"/>
	<property name="ireport.zoom" value="4.0"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<parameter name="SUBREPORT_DIR" class="java.lang.String"/>
	<queryString language="xPath">
		<![CDATA[/Comprobante/Conceptos/Concepto]]>
	</queryString>
	<field name="Cantidad" class="java.lang.String">
		<fieldDescription><![CDATA[@Cantidad]]></fieldDescription>
	</field>
	<field name="ClaveProdServ" class="java.lang.String">
		<fieldDescription><![CDATA[@ClaveProdServ]]></fieldDescription>
	</field>
	<field name="ClaveUnidad" class="java.lang.String">
		<fieldDescription><![CDATA[@ClaveUnidad]]></fieldDescription>
	</field>
	<field name="Descuento" class="java.lang.String">
		<fieldDescription><![CDATA[@Descuento]]></fieldDescription>
	</field>
	<field name="almacen" class="java.lang.String">
		<fieldDescription><![CDATA[@almacen]]></fieldDescription>
	</field>
	<field name="cantidad" class="java.lang.String">
		<fieldDescription><![CDATA[@cantidad]]></fieldDescription>
	</field>
	<field name="descripcion" class="java.lang.String">
		<fieldDescription><![CDATA[@descripcion]]></fieldDescription>
	</field>
	<field name="descuento1" class="java.lang.String">
		<fieldDescription><![CDATA[@descuento1]]></fieldDescription>
	</field>
	<field name="descuento2" class="java.lang.String">
		<fieldDescription><![CDATA[@descuento2]]></fieldDescription>
	</field>
	<field name="descuento3" class="java.lang.String">
		<fieldDescription><![CDATA[@descuento3]]></fieldDescription>
	</field>
	<field name="emision" class="java.lang.String">
		<fieldDescription><![CDATA[@emision]]></fieldDescription>
	</field>
	<field name="importe" class="java.lang.String">
		<fieldDescription><![CDATA[@importe]]></fieldDescription>
	</field>
	<field name="importeAjuste" class="java.lang.String">
		<fieldDescription><![CDATA[@importeAjuste]]></fieldDescription>
	</field>
	<field name="importeDescuentos" class="java.lang.String">
		<fieldDescription><![CDATA[@importeDescuentos]]></fieldDescription>
	</field>
	<field name="noIdentificacion" class="java.lang.String">
		<fieldDescription><![CDATA[@noIdentificacion]]></fieldDescription>
	</field>
	<field name="unidad" class="java.lang.String">
		<fieldDescription><![CDATA[@unidad]]></fieldDescription>
	</field>
	<field name="valorUnitario" class="java.lang.String">
		<fieldDescription><![CDATA[@ValorUnitario]]></fieldDescription>
	</field>
	<field name="showalmacen" class="java.lang.String">
		<fieldDescription><![CDATA[/Comprobante/InfoImpresion/Descripciones[@etiqueta="SHOW_ALMACEN"]/@descripcion0]]></fieldDescription>
	</field>
	<field name="HIDE_CONCEPT_NEGATIVE" class="java.lang.String">
		<fieldDescription><![CDATA[/Comprobante/InfoImpresion/Descripciones[@etiqueta="HIDE_CONCEPT_NEGATIVE"]/@descripcion0]]></fieldDescription>
	</field>
	<field name="hideListaPrecios" class="java.lang.String">
		<fieldDescription><![CDATA[/Comprobante/InfoImpresion/Descripciones[@etiqueta="HIDE_LISTAPRECIOS"]/@descripcion0]]></fieldDescription>
	</field>
	<field name="AJUSTE_DECIMALES" class="java.lang.String">
		<fieldDescription><![CDATA[/Comprobante/InfoImpresion/Descripciones[@etiqueta="AJUSTE_DECIMALES"]/@descripcion0]]></fieldDescription>
	</field>
	<field name="Impuesto" class="java.lang.String">
		<fieldDescription><![CDATA[Impuestos/Traslados/Traslado/@Impuesto]]></fieldDescription>
	</field>
	<field name="ImpTipoFactor" class="java.lang.String">
		<fieldDescription><![CDATA[Impuestos/Traslados/Traslado/@TipoFactor]]></fieldDescription>
	</field>
	<field name="ImpImporte" class="java.lang.String">
		<fieldDescription><![CDATA[Impuestos/Traslados/Traslado/@Importe]]></fieldDescription>
	</field>
	<columnHeader>
		<band height="13" splitType="Stretch">
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="257a0f13-5b0d-4235-9016-7c55ba2d761f" x="1" y="1" width="28" height="10" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Cant"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="8f86fcb4-47ad-498c-9b1f-fea505ebe795" x="30" y="1" width="41" height="10" forecolor="#062D7C"/>
				<textElement verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Codigo"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="21042294-45a5-4adc-a4a8-5e5eb4e17492" x="124" y="1" width="108" height="10" forecolor="#062D7C"/>
				<textElement verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA[($F{showalmacen}!= null?
    (Double.parseDouble($F{showalmacen})== 1?
    "Almacen\t Descripción":"Descripción"):"Descripción")]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="52038100-940a-4690-9770-6e1d58e8d010" x="270" y="0" width="34" height="10" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Unidad Medida"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="93fc1db0-192c-4ee7-8486-490e34070183" x="305" y="0" width="50" height="10" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Precio Unitario"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="a7c0b87d-219a-4627-b9fa-20342b759586" x="357" y="1" width="26" height="10" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["% Desc. 1"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="62f644d5-b77b-4253-836d-400c4d49eba2" x="384" y="1" width="33" height="10" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Importe Desc"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="084cb970-4c81-4737-b4ab-aa33940f30f1" x="533" y="1" width="51" height="9" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Importe"]]></textFieldExpression>
			</textField>
			<line>
				<reportElement uuid="6bfa0f4e-54ec-4b48-946a-690df7b23e4d" positionType="Float" x="0" y="11" width="572" height="1" forecolor="#999999"/>
			</line>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="01e9035e-afae-4ca3-b9e4-9fee33178b1a" x="72" y="1" width="50" height="10" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Clave SAT"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="81d9916b-d9b8-4d65-b8ee-c6ccf2d8ba35" x="245" y="0" width="24" height="10" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Clave U. SAT"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="e6559dd4-1f25-49eb-81da-3695d8d974fe" x="454" y="1" width="41" height="10" forecolor="#062D7C"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Imp"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="87a314d1-c616-4b9d-a70d-1ad05f6fb037" x="495" y="1" width="38" height="10" forecolor="#062D7C"/>
				<textElement verticalAlignment="Middle" markup="none">
					<font size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Impuesto"]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement uuid="60a2e86d-b4c4-4058-acba-6b6db1f76f30" x="418" y="1" width="37" height="10" forecolor="#062D7C">
					<printWhenExpression><![CDATA[$F{Descuento} != null]]></printWhenExpression>
				</reportElement>
				<textElement textAlignment="Center" verticalAlignment="Middle" markup="none">
					<font fontName="SansSerif" size="6" isBold="true"/>
				</textElement>
				<textFieldExpression><![CDATA["Imp Total Desc."]]></textFieldExpression>
			</textField>
		</band>
	</columnHeader>
	<detail>
		<band height="11" splitType="Stretch">
			<frame>
				<reportElement uuid="acd2f58e-b3b0-4cb1-95b7-a57fc8adea6f" stretchType="RelativeToTallestObject" mode="Transparent" x="0" y="0" width="607" height="11" isRemoveLineWhenBlank="true"/>
				<textField isStretchWithOverflow="true" pattern="#,##0.####" isBlankWhenNull="true">
					<reportElement uuid="173f3f73-6868-4478-93c1-a54cac88d982" x="1" y="0" width="28" height="8">
						<printWhenExpression><![CDATA[($F{HIDE_CONCEPT_NEGATIVE}!="1" ? true : (Double.parseDouble($F{cantidad})>0.0 ? true : false ))]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[Double.parseDouble($F{cantidad})]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="4cd3a6c5-670e-49d4-bd04-cb4d137f39d2" x="30" y="0" width="43" height="8"/>
					<textElement>
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{noIdentificacion}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="9f09688c-ee0e-40a4-b478-79d7c9e0970c" x="123" y="0" width="122" height="11" isPrintWhenDetailOverflows="true"/>
					<textElement>
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{showalmacen}!= null? (Double.parseDouble($F{showalmacen})== 1? $F{almacen}+"\t":""):"")+ ( $F{hideListaPrecios} != "1" ? $F{descripcion} : $F{descripcion}.replace("(","\n").replace(")","").replace(" P2","").replace(" P3","").replace(" P4","").replace(" P5","").replace(" PL","").replace(" PM","").replace(" PR","") )]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="0d1303ad-64b9-454e-811b-be94e36f4428" x="270" y="1" width="34" height="8"/>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{unidad} == "NO APLICA" ? "N/A" : $F{unidad}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement uuid="eb5128aa-966d-4a94-8635-bb7d11ff543f" x="305" y="1" width="49" height="8">
						<printWhenExpression><![CDATA[($F{HIDE_CONCEPT_NEGATIVE}!="1" ? true : (Double.parseDouble($F{valorUnitario})>0.0 ? true : false ))]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[Double.parseDouble($F{valorUnitario})]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="##0.00" isBlankWhenNull="false">
					<reportElement uuid="7cf09472-c1da-4233-9ead-aa99cb93cfe9" x="356" y="1" width="26" height="8">
						<printWhenExpression><![CDATA[$F{descuento1}!=null && !$F{descuento1}.isEmpty()]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[Double.parseDouble($F{descuento1}) + "%"]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="false">
					<reportElement uuid="da6fc8a0-7590-48e9-85ae-ad137b60b96b" x="383" y="1" width="33" height="8">
						<printWhenExpression><![CDATA[$F{descuento1}!=null && !$F{descuento1}.isEmpty()]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[($F{descuento1}!=null && !$F{descuento1}.isEmpty()?
Double.parseDouble( $F{cantidad})*
 (Double.parseDouble($F{valorUnitario})*(Double.parseDouble($F{descuento1})/100)):"")]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00##" isBlankWhenNull="true">
					<reportElement uuid="05b564b0-045f-4daa-8d08-6b09c2d6b0c1" x="535" y="2" width="51" height="7">
						<printWhenExpression><![CDATA[$F{AJUSTE_DECIMALES}=="1"]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="7"/>
					</textElement>
					<textFieldExpression><![CDATA[Double.parseDouble($F{importeAjuste})]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="37afb09b-0220-4f33-8379-5086d43ade5f" x="73" y="0" width="50" height="8"/>
					<textElement>
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{noIdentificacion} != "AM" ? $F{ClaveProdServ} : ""]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="f1dab2a8-127b-4010-bba8-d2adb3e090d7" x="245" y="1" width="25" height="8"/>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{noIdentificacion} != "AM" ? $F{ClaveUnidad} : ""]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" isBlankWhenNull="true">
					<reportElement uuid="b77eccab-90c5-48e9-971f-b0ff158a292b" x="454" y="1" width="41" height="8"/>
					<textElement>
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{noIdentificacion} != "AM" ? $F{Impuesto} + " - " + $F{ImpTipoFactor} : ""]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement uuid="a1f6cec2-f841-48bb-bb31-47a7d1e84f1f" x="495" y="1" width="38" height="8"/>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{noIdentificacion} != "AM" ? Double.parseDouble($F{ImpImporte}) : ""]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
					<reportElement uuid="7ebbc322-191e-48cd-8b2b-ce7794baece5" x="418" y="0" width="33" height="8">
						<printWhenExpression><![CDATA[$F{Descuento} != null]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[$F{Descuento}]]></textFieldExpression>
				</textField>
				<textField isStretchWithOverflow="true" pattern="#,##0.00##" isBlankWhenNull="true">
					<reportElement uuid="c5fbbad2-4fa7-45cc-8575-72b68d617520" x="535" y="2" width="51" height="7">
						<printWhenExpression><![CDATA[$F{AJUSTE_DECIMALES}!="1"]]></printWhenExpression>
					</reportElement>
					<textElement textAlignment="Center">
						<font size="6"/>
					</textElement>
					<textFieldExpression><![CDATA[Double.parseDouble($F{importe})]]></textFieldExpression>
				</textField>
			</frame>
		</band>
	</detail>
</jasperReport>
